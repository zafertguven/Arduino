/*
 * Merhaba ben Zafer GÜVEN.
 * Elektronik Haberleşme Teknolojisi mezunuyum.
 * Hobi olarak yazılım ve arduino ile uğraşmaktayım.
 * İlham aldığım kişi "AARON SWARTZ" dır.
 * AARON SWARTZ ın dediği gibi "Bilgiye erişim ücretsiz olmalıdır."
 * Bu yüzden yaptığım projelerimi sizler ile paylaşmaya karar verdim.
 * Aşağıda bulunan linkten yazılımlarıma ulaşabilirsiniz.
 * https://github.com/zafertguven/Arduino
 * Lütfen şu sözü nutmayın "Bilgi paylaştıkça çoğalır."
 */

int veri;          //Bluetooth üzerinden okuduğumuz değişken.
int Relay1 = 5;    //Relay 1 çıkış pini
int Relay2 = 6;    //Relay 2 çıkış pini
int Relay3 = 7;    //Relay 3 çıkış pini

void setup() {
  Serial.begin(9600);           //Seri haberleşmeyi başlatıyoruz.
  pinMode(Relay1,OUTPUT);       //Relay 1 çıkış olarak ayarlandı
  pinMode(Relay2,OUTPUT);       //Relay 2 çıkış olarak ayarlandı
  pinMode(Relay3,OUTPUT);       //Relay 3 çıkış olarak ayarlandı
  digitalWrite(Relay1,LOW);     //Relay 1 kapalı başla
  digitalWrite(Relay2,LOW);     //Relay 2 kapalı başla
  digitalWrite(Relay3,LOW);     //Relay 3 kapalı başla
}

void loop() {
  if(Serial.available()>0){ //-------------------- Seri haberleşmeden veri gelmesini bekliyoruz.
    veri = Serial.read();   //-------------------- Seri haberleşmeden gelen veriyi okuyoruz.
  }
  // RELAY 1
     if (veri == 'a'){digitalWrite(Relay1, HIGH);} //a gelince relay 1 i aç
     if (veri == 'b'){digitalWrite(Relay1, LOW);}  //b gelince relay 1 i kapat
  // RELAY 2
     if (veri == 'c'){digitalWrite(Relay2, HIGH);} //c gelince relay 1 i aç
     if (veri == 'd'){digitalWrite(Relay2, LOW);}  //d gelince relay 1 i kapat
  // RELAY 3
     if (veri == 'e'){digitalWrite(Relay3, HIGH);} //e gelince relay 1 i aç
     if (veri == 'f'){digitalWrite(Relay3, LOW);}  //f gelince relay 1 i kapat
  // TÜM RELAYLARI KAPAT
     if (veri == 't'){ //--------------------------- t gelince tüm relayları kapat
      digitalWrite(Relay1, LOW);
      digitalWrite(Relay2, LOW);
      digitalWrite(Relay3, LOW);
        }
}
